<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      // function Node(val, neighbors) {
      //   this.val = val === undefined ? 0 : val;
      //   this.neighbors = neighbors === undefined ? [] : neighbors;
      // }

      var cloneGraph = function (node) {
        let m = new Map();

        const dfs = (node, map) => {
          if (node === null) return;

          let curNode = map.get(node);
          if (!curNode) {
            curNode = new Node(node.val);
            map.set(node, curNode);
            for (let neighbor of node.neighbors) {
              curNode.neighbors.push(dfs(neighbor, map));
            }
          }

          return curNode;
        };

        return dfs(node, m);
      };

      var a = cloneGraph([
        [2, 4],
        [1, 3],
        [2, 4],
        [1, 3],
      ]); // [[2,4],[1,3],[2,4],[1,3]]
      var a = cloneGraph([[]]); // [[]]
      var a = cloneGraph([]); //[]
    </script>
  </body>
</html>
