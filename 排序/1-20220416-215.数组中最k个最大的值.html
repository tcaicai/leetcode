<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      var findKthLargest = function (nums, k) {
        let arr = nums.sort((a, b) => b - a);
        return arr[k - 1];
      };
      var findKthLargest = function (nums, k) {
        return quickSelect(nums, 0, nums.length - 1, nums.length - k);
      };

      function quickSelect(a, l, r, index) {
        let q = randomPartition(a, l, r);
        if (q == index) {
          return a[q];
        } else {
          return q < index
            ? quickSelect(a, q + 1, r, index)
            : quickSelect(a, l, q - 1, index);
        }
      }

      function randomPartition(a, l, r) {
        let i = random.nextInt(r - l + 1) + l;
        swap(a, i, r);
        return partition(a, l, r);
      }

      function partition(a, l, r) {
        let x = a[r],
          i = l - 1;
        for (let j = l; j < r; ++j) {
          if (a[j] <= x) {
            swap(a, ++i, j);
          }
        }
        swap(a, i + 1, r);
        return i + 1;
      }

      function swap(a, i, j) {
        let temp = a[i];
        a[i] = a[j];
        a[j] = temp;
      }
    </script>
  </body>
</html>
